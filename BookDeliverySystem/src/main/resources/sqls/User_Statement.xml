<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.dowon.bds.model.mapper.UserDaoImpl">




<!-- 로그인 구현 -->
<select id="login" resultType="UserDto" parameterType="Map">
SELECT USER_SEQ,USER_EMAIL,USER_PHONE,USER_BIRTH,JOINDATE,USER_NAME,USER_AUTH,USER_GENDER
	FROM TB_USER
	WHERE USER_EMAIL = #{user_email} 
	AND USER_PASSWORD = #{user_password}
</select>

<!-- 소셜로그인 시도 시 사용자가 기존 아이디가 있는지 확인하는 쿼리 -->
<select id="checkSocial" resultType="UserDto">
	SELECT USER_EMAIL
	FROM TB_USER
	WHERE SNS_KEY = #{sns_key}
</select>

<!-- 네이버 소셜 로그인(기존회원이 아닐 경우) 회원가입 -->
<insert id="naverJoin" parameterType="UserDto">
</insert>

<!-- 카카오 소셜 로그인(기존회원이 아닐 경우) 회원가입 -->
<insert id="kakaoJoin" parameterType="UserDto">
</insert>

</mapper>
